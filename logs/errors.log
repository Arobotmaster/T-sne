2025-09-22 13:51:30,804 [ERROR] error_handler: ERROR_CONTEXT: {"timestamp": "2025-09-22T13:51:30.795518", "error_type": "HTTPException", "error_message": "500: 启动数据处理失败", "severity": "critical", "category": "network", "stack_trace": "Traceback (most recent call last):\n  File \"/home/zjp/Rn/claude-test-tsne/backend/src/api/datasets.py\", line 340, in start_processing\n    _pipelines_store[pipeline_id] = {\n    ^^^^^^^^^^^^^^^^\nUnboundLocalError: cannot access local variable '_pipelines_store' where it is not associated with a value\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/zjp/Rn/claude-test-tsne/backend/src/api/datasets.py\", line 412, in start_processing\n    raise HTTPException(status_code=500, detail=\"启动数据处理失败\")\nfastapi.exceptions.HTTPException: 500: 启动数据处理失败\n", "additional_info": {"request_path": "/api/datasets/7218b56b-6909-4c16-953a-1cffde4c10d6/process", "method": "POST", "error_id": "ed66eaef-1266-4af0-9f3d-ec682b11db46"}}
2025-09-22 13:52:59,896 [ERROR] error_handler: ERROR_CONTEXT: {"timestamp": "2025-09-22T13:52:59.896124", "error_type": "HTTPException", "error_message": "500: 启动数据处理失败", "severity": "critical", "category": "network", "stack_trace": "Traceback (most recent call last):\n  File \"/home/zjp/Rn/claude-test-tsne/backend/src/api/datasets.py\", line 340, in start_processing\n    _pipelines_store[pipeline_id] = {\n    ^^^^^^^^^^^^^^^^\nUnboundLocalError: cannot access local variable '_pipelines_store' where it is not associated with a value\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/zjp/Rn/claude-test-tsne/backend/src/api/datasets.py\", line 412, in start_processing\n    raise HTTPException(status_code=500, detail=\"启动数据处理失败\")\nfastapi.exceptions.HTTPException: 500: 启动数据处理失败\n", "additional_info": {"request_path": "/api/datasets/7218b56b-6909-4c16-953a-1cffde4c10d6/process", "method": "POST", "error_id": "bd0a0b92-39ce-4485-a914-6e3a764e7eba"}}
2025-09-22 13:55:22,628 [ERROR] error_handler: ERROR_CONTEXT: {"timestamp": "2025-09-22T13:55:22.621029", "error_type": "HTTPException", "error_message": "500: 启动数据处理失败", "severity": "critical", "category": "network", "stack_trace": "Traceback (most recent call last):\n  File \"/home/zjp/Rn/claude-test-tsne/backend/src/api/datasets.py\", line 340, in start_processing\n    _pipelines_store[pipeline_id] = {\n    ^^^^^^^^^^^^^^^^\nUnboundLocalError: cannot access local variable '_pipelines_store' where it is not associated with a value\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/zjp/Rn/claude-test-tsne/backend/src/api/datasets.py\", line 412, in start_processing\n    raise HTTPException(status_code=500, detail=\"启动数据处理失败\")\nfastapi.exceptions.HTTPException: 500: 启动数据处理失败\n", "additional_info": {"request_path": "/api/datasets/7218b56b-6909-4c16-953a-1cffde4c10d6/process", "method": "POST", "error_id": "487385b0-0840-4af7-8fa6-1d483a60487a"}}
2025-09-22 14:19:48,400 [ERROR] error_handler: ERROR_CONTEXT: {"timestamp": "2025-09-22T14:19:48.399075", "error_type": "ValueError", "error_message": "[TypeError(\"'numpy.bool' object is not iterable\"), TypeError('vars() argument must have __dict__ attribute')]", "severity": "error", "category": "algorithm", "stack_trace": "Traceback (most recent call last):\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/encoders.py\", line 324, in jsonable_encoder\n    data = dict(obj)\nTypeError: 'numpy.bool' object is not iterable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/encoders.py\", line 329, in jsonable_encoder\n    data = vars(obj)\nTypeError: vars() argument must have __dict__ attribute\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/routing.py\", line 202, in serialize_response\n    return jsonable_encoder(response_content)\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/encoders.py\", line 289, in jsonable_encoder\n    encoded_value = jsonable_encoder(\n        value,\n    ...<4 lines>...\n        sqlalchemy_safe=sqlalchemy_safe,\n    )\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/encoders.py\", line 289, in jsonable_encoder\n    encoded_value = jsonable_encoder(\n        value,\n    ...<4 lines>...\n        sqlalchemy_safe=sqlalchemy_safe,\n    )\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/encoders.py\", line 289, in jsonable_encoder\n    encoded_value = jsonable_encoder(\n        value,\n    ...<4 lines>...\n        sqlalchemy_safe=sqlalchemy_safe,\n    )\n  [Previous line repeated 1 more time]\n  File \"/home/zjp/miniconda3/lib/python3.13/site-packages/fastapi/encoders.py\", line 332, in jsonable_encoder\n    raise ValueError(errors) from e\nValueError: [TypeError(\"'numpy.bool' object is not iterable\"), TypeError('vars() argument must have __dict__ attribute')]\n", "additional_info": {"request_path": "/api/datasets/7218b56b-6909-4c16-953a-1cffde4c10d6/auto-config", "method": "POST", "error_id": "d7a641d1-00f8-4fbd-abca-54865923ae06"}}
